if(typeof(Csonv)=="undefined"){Csonv=(function(g){var c=null,a={};var d=function(){var h=function(m,k){var j=k.csvSplit(Csonv.separators.array);var n=[];for(var l=0;l<j.length;l++){n.push(c[m](j[l]))}return n};c={string:function(i){return i.toString()},integer:function(i){return parseInt(i,10)},"float":function(i){return parseFloat(i)},"boolean":function(i){return parseInt(i,10)==1},date:function(i){return new Date(i)},strings:function(i){return h("string",i)},integers:function(i){return h("integer",i)},floats:function(i){return h("float",i)},booleans:function(i){return h("boolean",i)},dates:function(i){return h("date",i)},relation:function(j,s,l,m){var r=s.split(":");var o=f(l,r[0]+".csv");var q=[];o.toObjects();var k=a[o].map;if(r[2]){for(var t in k){var n=k[t];if((n[r[2]]||[]).indexOf(m.toString())!=-1){q.push(n._object)}}}else{for(var p=0;p<j.length;p++){var n=k[parseInt(j[p],10)];if(n){q.push(n._object)}}}return parseInt(r[1],10)==1?q[0]||null:q}}};var f=function(h,i){h=h.replace(/[^\/]+\/?$/,"")+i;reg_exp=new RegExp(/[^\/]+\/\.\.\/?/);while(h.match(reg_exp)){h=h.replace(reg_exp,"")}return h};var e=function(h){request=new (window.ActiveXObject||XMLHttpRequest)("Microsoft.XMLHTTP");request.open("GET",h,0);request.setRequestHeader("Content-type","application/x-www-form-urlencoded");request.send();return request.responseText};var b=function(o,k){a[k]={data:[],map:{}};var p=a[k];var w=o.split("\n");var u=w.shift().csvSplit();var r=w.shift().csvSplit();for(var q=0;q<w.length;q++){var v=w[q].csvSplit(),m={},l={};for(var n=0;n<u.length;n++){var t=u[n],s=r[n],h=c[s];if(h){m[t]=h(v[n],s,k)}else{l[t]=s.split(":").length==2?v[n].split(Csonv.separators.array):null}}if(m.id){l._object=m;p.map[m.id]=l}p.data.push(m)}for(var q=0;q<u.length;q++){var t=u[q],s=r[q],h=c[s];if(!h){for(var n=0;n<p.data.length;n++){p.data[n][t]=c.relation(p.map[p.data[n].id][t],s,k,p.data[n].id)}}}return p.data};return{version:"0.1.3",separators:{column:";",array:","},init:d,fetch:function(h){return a[h]?a[h].data:b(e(h),h)}}}());Array.indexOf||(Array.prototype.indexOf=function(a){for(var b=this.length;b--&&this[b]!=a;){}return b});String.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});String.prototype.toObjects=function(){return Csonv.fetch(this.toString())};String.prototype.csvSplit=function(d){d=d||Csonv.separators.column;var c=new RegExp(("(\\"+d+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+d+"\\r\\n]*))"),"gi");var g=this.trim(),f=[],a=null;if(g.match(new RegExp("^\\"+d))){f.push("")}while(a=c.exec(g)){var b=a[1];if(b.length&&(b!=d)){f.push(b)}var e=a[2]?a[2].replace(new RegExp('""',"g"),'"'):a[3];f.push(e)}return f};Csonv.init()};