<!DOCTYPE html>
<html lang="en">
    
    <head>
        <meta charset="utf-8">
        <title>Bootstrap, from Twitter</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">
        <!-- Le styles -->
<!--        <link rel="stylesheet" href="../libes/recline/css/grid.css" />-->
        <link rel="stylesheet" href="../libs/slickgrid/slick.grid.css" />
        <link rel="stylesheet" href="../libs/slickgrid/css/smoothness/jquery-ui-1.8.16.custom.css" />
        
        <link rel="stylesheet" href="../libs/bootstrap/css/bootstrap-responsive.css" />
        <link rel="stylesheet" href="../libs/bootstrap/css/bootstrap.css" />
        
        
        
        <style type="text/css">
            body {
                padding-top: 60px;
                padding-bottom: 40px;
            }
            .sidebar-nav {
                padding: 9px 0;
            }
            @media (max-width: 980px) {
                /* Enable use of floated navbar text */
                .navbar-text.pull-right {
                    float: none;
                    padding-left: 5px;
                    padding-right: 5px;
                }
            }
        </style>
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="../libs/bootstrap/js/html5shiv.js"></script>
        <![endif]-->
        <!-- Fav and touch icons -->
       
    </head>
    
    <body>
        <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="brand" href="#">Project name</a>
                    <div class="nav-collapse collapse">
                        <p class="navbar-text pull-right">Logged in as
                            <a href="#" class="navbar-link">Username</a>
                        </p>
                        <ul class="nav">
                            <li class="active">
                                <a href="#">Home</a>
                            </li>
                            <li>
                                <a href="#about">About</a>
                            </li>
                            <li>
                                <a href="#contact">Contact</a>
                            </li>
                        </ul>
                    </div>
                    <!--/.nav-collapse -->
                </div>
            </div>
        </div>
        
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span3">
                    <div class="btn-group" data-toggle="buttons-radio">
                        <button type="button" class="btn" style="width:63.5%;">Data</button>
                        <button type="button" class="btn" style="width:63.5%;">Pivot</button>
                        <button type="button" class="btn" style="width:63.5%;">Visualize</button>
                    </div>
                    <div class="tab-content">
                        <div class="tab-pane active" id="Data-menu">
                            <div class="accordion" id="accordion2">
                                <div class="accordion-group">
                                    <div class="accordion-heading">
                                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne">Suggestion 1</a>
                                    </div>
                                    <div id="collapseOne" class="accordion-body collapse">
                                        <div class="accordion-inner">Suggestion 1 stuff</div>
                                    </div>
                                </div>
                                <div class="accordion-group">
                                    <div class="accordion-heading">
                                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo">Suggestion 2</a>
                                    </div>
                                    <div id="collapseTwo" class="accordion-body collapse">
                                        <div class="accordion-inner">Suggestion 2 stuff</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="Pivot-menu">
                            <div id="variableslist">
                                <ul class="nav nav-pills nav-stacked">
                                    <li style="background-color:#f8f8f8; border-radius: 4px;">
                                        <a href="#">Variable 1</a>
                                    </li>
                                    <li style="background-color:#f8f8f8; border-radius: 4px;">
                                        <a href="#">Variable 2</a>
                                    </li>
                                    <li style="background-color:#f8f8f8; border-radius: 4px;">
                                        <a href="#">Variable 3</a>
                                    </li>
                                    <li style="background-color:#f8f8f8; border-radius: 4px;">
                                        <a href="#">Variable 4</a>
                                    </li>
                                    <li style="background-color:#f8f8f8; border-radius: 4px;">
                                        <a href="#">Variable 5</a>
                                    </li>
                                    <li style="background-color:#f8f8f8; border-radius: 4px;">
                                        <a href="#">Variable 6</a>
                                    </li>
                                </ul>
                            </div>
                            <div id="variablespicked" style="height:100px; border-radius: 4px; border-color: #cccccc; border-width: 1px; border-style:solid; overflow-y: scroll;">
                                <ul class="nav nav-pills nav-stacked">
                                    <li class="placeholder" style="background-color:#f8f8f8; border-radius: 4px;">
                                        <a href="#">Drop your variables here</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="tab-pane" id="Visualize-menu">
                            <p>Visualize-menu</p>
                        </div>
                    </div>
                </div>
                <!--/span-->
                <div class="span9">
                    <div class="tabbable">
                        <!-- Only required for left/right tabs -->
                        <div class="tab-content">
                            <div class="tab-pane active" id="Data">
                                 <div id="myGrid" class="grid-canvas" style="height:550px;"></div>

                            </div>
                            <div class="tab-pane" id="Pivot">
                                <p>Pivot</p>
                            </div>
                            <div class="tab-pane" id="Visualize">
                                <div id="viz"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--/span-->
            </div>
            <!--/row-->
            <hr>
            <footer>
                <p>&copy; Company 2013</p>
            </footer>
        </div>
        
       
        <!--/.fluid-container-->
        <!-- Le javascript==================================================- ->
    <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/javascript" src="../libs/jquery/jquery-1.9.1.js"></script>
        <script type="text/javascript" src="../libs/jquery/ui/jquery-ui.js"></script>
        <script type="text/javascript" src="../libs/slickgrid/lib/jquery.event.drag-2.2.js"></script>
        <script type="text/javascript" src="../libs/bootstrap/js/bootstrap.js"></script>
        
    <script type="text/javascript" src="../libs/underscore/1.4.4/underscore.js"></script>
	<script type="text/javascript" src="../libs/backbone/1.0.0/backbone.js"></script>
	<script type="text/javascript" src="../libs/mustache/0.5.0-dev/mustache.js"></script>
	<script type="text/javascript" src="../libs/recline/recline.js"></script>
        
    <script type="text/javascript" src="../libs/slickgrid/slick.editors.js"></script>
	<script type="text/javascript" src="../libs/slickgrid/slick.core.js"></script>
	<script type="text/javascript" src="../libs/slickgrid/slick.grid.js"></script>
	<script type="text/javascript" src="../libs/slickgrid/plugins/slick.headermenu.js"></script>
	<script type="text/javascript" src="../libs/slickgrid/plugins/slick.headerbuttons.js"></script>
        
    <script type="text/javascript" src="../libs/d3/d3.v3.min.js"></script>
    <script type="text/javascript" src="../libs/d3/d3.geo.projection.min.js"></script>
    <script type="text/javascript" src="../libs/d3/d3.layout.cloud.js"></script>
    <script type="text/javascript" src="../libs/vega/vega.js"></script>    
        
        <script type="text/javascript" src="./data.js"></script>
        
        <script>
            var selected = "";
            $(".btn-group > button.btn").on("click", function() {
                selected = this.innerHTML;

                if (selected == 'Data') {
                    $('#Data').addClass('active');
                    $('#Data-menu').addClass('active');
                    $('#Pivot').removeClass('active');
                    $('#Pivot-menu').removeClass('active');
                    $('#Visualize').removeClass('active');
                    $('#Visualize-menu').removeClass('active');
                } else if (selected == 'Pivot') {
                    $('#Data').removeClass('active');
                    $('#Data-menu').removeClass('active');
                    $('#Pivot').addClass('active');
                    $('#Pivot-menu').addClass('active');
                    $('#Visualize').removeClass('active');
                    $('#Visualize-menu').removeClass('active');
                } else {
                    $('#Data').removeClass('active');
                    $('#Data-menu').removeClass('active');
                    $('#Pivot').removeClass('active');
                    $('#Pivot-menu').removeClass('active');
                    $('#Visualize').addClass('active');
                    $('#Visualize-menu').addClass('active');
                }
            });

            $("#variableslist li").draggable({
                appendTo: "body",
                helper: "clone"
            });

            $("#variablespicked ul").droppable({
                activeClass: "ui-state-default",
                hoverClass: "ui-state-hover",
                accept: ":not(.ui-sortable-helper)",
                drop: function(event, ui) {

                    $(this).find(".placeholder").remove();
                    $("<li style=\"background-color:#f8f8f8; border-radius: 4px;\"><a href=\"#\">" + ui.draggable.text() + "</a></li>").appendTo(this);
                }
            });
            
            vg.parse.spec("./area.json", function(chart) {
                self.view = chart({el:"#viz"}).update();
            });
    
    var dataset = new recline.Model.Dataset({
  records: data
});        
            
            var $el = $('#myGrid');
var grid = new recline.View.SlickGrid({
  model: dataset,
  el: $el
});
grid.visible = true;
grid.render();
            
        </script>
    </body>

</html>