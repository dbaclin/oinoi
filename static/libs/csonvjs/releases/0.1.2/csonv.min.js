if(typeof(Csonv)=="undefined"){Csonv=(function(){var c=null,a={};var d=function(){var g=function(l,j){var h=j.csvSplit(Csonv.separators.array);var m=[];for(var k=0;k<h.length;k++){m.push(c[l](h[k]))}return m};c={string:function(h){return h.toString()},integer:function(h){return parseInt(h,10)},"float":function(h){return parseFloat(h)},"boolean":function(h){return parseInt(h,10)==1},strings:function(h){return g("string",h)},integers:function(h){return g("integer",h)},floats:function(h){return g("float",h)},booleans:function(h){return g("boolean",h)},relation:function(h,r,k,l){var q=r.split(":");var n=f(k,r.split(":")[0]+".csv");var p=[];n.toObjects();var j=a[n].map;if(q[2]){for(var s in j){var m=j[s];if((m[q[2]]||[]).indexOf(l.toString())!=-1){p.push(m._object)}}}else{for(var o=0;o<h.length;o++){var m=j[parseInt(h[o],10)];if(m){p.push(m._object)}}}return parseInt(q[1],10)==1?p[0]||null:p}}};var f=function(g,h){g=g.replace(/[^\/]+\/?$/,"")+h;reg_exp=new RegExp(/[^\/]+\/\.\.\/?/);while(g.match(reg_exp)){g=g.replace(reg_exp,"")}return g};var e=function(g){request=new (window.ActiveXObject||XMLHttpRequest)("Microsoft.XMLHTTP");request.open("GET",g,0);request.setRequestHeader("Content-type","application/x-www-form-urlencoded");request.send();return request.responseText};var b=function(n,h){a[h]={data:[],map:{}};var o=a[h];var v=n.split("\n");var t=v.shift().csvSplit();var q=v.shift().csvSplit();for(var p=0;p<v.length;p++){var u=v[p].csvSplit(),l={},k={};for(var m=0;m<t.length;m++){var s=t[m],r=q[m],g=c[r];if(g){l[s]=g(u[m],r,h)}else{k[s]=r.split(":").length==2?u[m].split(Csonv.separators.array):null}}if(l.id){k._object=l;o.map[l.id]=k}o.data.push(l)}for(var p=0;p<t.length;p++){var s=t[p],r=q[p],g=c[r];if(!g){for(var m=0;m<o.data.length;m++){o.data[m][s]=c.relation(o.map[o.data[m].id][s],r,h,o.data[m].id)}}}return o.data};return{version:"0.1.2",separators:{column:";",array:","},init:d,fetch:function(g){return a[g]?a[g].data:b(e(g),g)}}}());Array.indexOf||(Array.prototype.indexOf=function(a){for(var b=this.length;b--&&this[b]!=a;){}return b});String.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});String.prototype.toObjects=function(){return Csonv.fetch(this.toString())};String.prototype.csvSplit=function(d){d=d||Csonv.separators.column;var c=new RegExp(("(\\"+d+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+d+"\\r\\n]*))"),"gi");var g=this.trim(),f=[],a=null;if(g.match(new RegExp("^\\"+d))){f.push("")}while(a=c.exec(g)){var b=a[1];if(b.length&&(b!=d)){f.push(b)}var e=a[2]?a[2].replace(new RegExp('""',"g"),'"'):a[3];f.push(e)}return f};Csonv.init()};